<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ß–ï–†–ï–ó –°–ò–õ–£ | TITAN SYSTEM ü™¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- TITAN DESIGN SYSTEM --- */
        :root {
            --neon: #ff6b00;
            --neon-glow: rgba(255, 107, 0, 0.5);
            --bg-black: #050505;
            --bg-card: #0d0d0d;
            --border: rgba(255, 255, 255, 0.08);
            --text-main: #ffffff;
            --text-dim: #808080;
            --gold: #ffcc00;
            --transition: 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-black);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* FX Background */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 10% 10%, rgba(255, 107, 0, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 90% 90%, rgba(255, 107, 0, 0.04) 0%, transparent 50%);
            z-index: -1;
        }

        header {
            padding: 80px 20px 40px;
            text-align: center;
        }

        .logo-box {
            position: relative;
            display: inline-block;
        }

        .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2.5rem, 10vw, 4rem);
            font-weight: 900;
            letter-spacing: 12px;
            text-transform: uppercase;
            color: var(--text-main);
            text-shadow: 0 0 30px var(--neon-glow);
        }

        .tagline {
            font-size: 0.7rem;
            color: var(--text-dim);
            letter-spacing: 5px;
            margin-top: 15px;
            text-transform: uppercase;
        }

        /* Grid */
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 20px;
        }

        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
            gap: 15px;
            margin-top: 40px;
        }

        .ex-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 35px 15px;
            border-radius: 24px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .ex-card:hover {
            border-color: var(--neon);
            transform: translateY(-8px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.8), 0 0 15px rgba(255,107,0,0.1);
        }

        .ex-card h3 {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
        }

        /* Fullscreen Overlay */
        .overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-black);
            z-index: 9999;
            display: none;
            flex-direction: column;
            overflow-y: auto;
        }

        .overlay-nav {
            padding: 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            background: rgba(5,5,5,0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--neon);
            font-size: 2.2rem;
            cursor: pointer;
        }

        .form-container {
            max-width: 550px;
            margin: 50px auto;
            padding: 0 20px;
            width: 100%;
        }

        .input-wrap { margin-bottom: 30px; }
        .input-wrap label {
            display: block;
            font-size: 0.75rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 12px;
        }

        input {
            width: 100%;
            background: #111;
            border: 1px solid #222;
            padding: 22px;
            border-radius: 18px;
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            transition: 0.3s;
        }

        input:focus { border-color: var(--neon); background: #150b00; }
        input::placeholder { color: #333; }

        .gen-btn {
            width: 100%;
            background: var(--neon);
            color: #000;
            border: none;
            padding: 25px;
            border-radius: 20px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            font-size: 1.1rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 3px;
            box-shadow: 0 10px 30px var(--neon-glow);
            transition: var(--transition);
        }

        .gen-btn:active { transform: scale(0.98); }

        /* Workout Plan Styling */
        .result-area { margin-top: 60px; padding-bottom: 100px; }

        .day-box {
            background: #0a0a0a;
            border: 1px solid var(--border);
            border-radius: 30px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
        }

        .day-box.work { border-left: 6px solid var(--neon); }
        .day-box.rest { border-left: 6px solid #333; opacity: 0.6; }

        .day-num {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--neon);
            margin-bottom: 20px;
            display: block;
        }

        .set-item {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            border: 1px solid rgba(255,255,255,0.02);
        }

        .set-item b {
            display: block;
            color: var(--neon);
            font-size: 0.75rem;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .set-item span { font-size: 1.1rem; font-weight: 700; }

        .pause-info {
            text-align: center;
            padding: 15px;
            color: var(--text-dim);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        /* Lang Switcher */
        .lang-dock {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            background: rgba(15,15,15,0.8);
            backdrop-filter: blur(15px);
            padding: 8px;
            border-radius: 100px;
            border: 1px solid var(--border);
            z-index: 10000;
        }

        .lang-btn {
            padding: 12px 22px;
            border-radius: 100px;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 900;
            color: var(--text-dim);
            transition: 0.3s;
        }

        .lang-btn.active { background: var(--neon); color: #000; }

        @media (max-width: 600px) {
            header { padding: 50px 10px; }
            .day-box { padding: 20px; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo-box">
        <h1 class="logo-text" id="main-logo">–ß–ï–†–ï–ó –°–ò–õ–£</h1>
    </div>
    <p class="tagline">ü™¨ THE WARRIOR'S WAY</p>
</header>

<div class="container">
    <div class="exercise-grid" id="grid"></div>
</div>

<div class="overlay" id="overlay">
    <div class="overlay-nav">
        <button class="back-btn" onclick="closeOverlay()">‚úï</button>
        <h2 id="overlay-title" style="font-family:'Orbitron'; font-size: 1rem;">–£–ü–†–ê–ñ–ù–ï–ù–ò–ï</h2>
    </div>
    
    <div class="form-container">
        <div id="inputs-dynamic"></div>
        <div id="goal-dynamic"></div>
        
        <button class="gen-btn" onclick="generateAction()" id="gen-btn-text">
            –°–û–ó–î–ê–¢–¨ –ü–†–û–ì–†–ê–ú–ú–£
        </button>

        <div id="results" class="result-area"></div>
    </div>
</div>

<div class="lang-dock">
    <div class="lang-btn active" onclick="setLang('ru')" id="btn-ru">RU</div>
    <div class="lang-btn" onclick="setLang('ua')" id="btn-ua">UA</div>
    <div class="lang-btn" onclick="setLang('en')" id="btn-en">EN</div>
</div>

<script>
    let lang = 'ru';
    let selectedEx = null;

    // –ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π –º–∞—Å–∏–≤ 55 –≤–ø—Ä–∞–≤
    const db = [
        { id: 1, ru: '–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è', ua: '–ü—ñ–¥—Ç—è–≥—É–≤–∞–Ω–Ω—è', en: 'Pull-ups' },
        { id: 2, ru: '–û—Ç–∂–∏–º–∞–Ω–∏—è', ua: '–í—ñ–¥–∂–∏–º–∞–Ω–Ω—è', en: 'Push-ups' },
        { id: 3, ru: '–ë—Ä—É—Å—å—è', ua: '–ë—Ä—É—Å–∏', en: 'Dips' },
        { id: 4, ru: '–í—ã—Ö–æ–¥ —Å–∏–ª–æ–π', ua: '–í–∏—Ö—ñ–¥ —Å–∏–ª–æ—é', en: 'Muscle Up' },
        { id: 5, ru: '–ü–µ—Ä–µ–¥–Ω–∏–π –≤–∏—Å', ua: '–ü–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ—Å', en: 'Front Lever' },
        { id: 6, ru: '–°—Ç–æ–π–∫–∞ –Ω–∞ —Ä—É–∫–∞—Ö', ua: '–°—Ç—ñ–π–∫–∞ –Ω–∞ —Ä—É–∫–∞—Ö', en: 'Handstand' },
        { id: 7, ru: '–ì–æ—Ä–∏–∑–æ–Ω—Ç (–ü–ª–∞–Ω—à)', ua: '–ì–æ—Ä–∏–∑–æ–Ω—Ç (–ü–ª–∞–Ω—à)', en: 'Planche' },
        { id: 8, ru: '–§–ª–∞–≥ –¥—Ä–∞–∫–æ–Ω–∞', ua: '–ü—Ä–∞–ø–æ—Ä –¥—Ä–∞–∫–æ–Ω–∞', en: 'Dragon Flag' },
        { id: 9, ru: '–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–ª–∞–≥', ua: '–õ—é–¥—Å—å–∫–∏–π –ø—Ä–∞–ø–æ—Ä', en: 'Human Flag' },
        { id: 10, ru: '–ù–∞ –æ–¥–Ω–æ–π —Ä—É–∫–µ (–ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è)', ua: '–ù–∞ –æ–¥–Ω—ñ–π —Ä—É—Ü—ñ (–ø—ñ–¥—Ç—è–≥—É–≤–∞–Ω–Ω—è)', en: 'OAP' },
        { id: 11, ru: 'HSPU (–≤ —Å—Ç–æ–π–∫–µ)', ua: 'HSPU (–≤ —Å—Ç—ñ–π—Ü—ñ)', en: 'Handstand Pushups' },
        { id: 12, ru: 'L-Sit –£–≥–æ–ª–æ–∫', ua: 'L-Sit –ö—É—Ç–∏–∫', en: 'L-Sit' },
        { id: 13, ru: '–í–∑—Ä—ã–≤–Ω—ã–µ —Ç—è–≥–∏', ua: '–í–∏–±—É—Ö–æ–≤—ñ —Ç—è–≥–∏', en: 'Explosive Pulls' },
        { id: 14, ru: '–ü–µ—á–∞—Ç–Ω–∞—è –º–∞—à–∏–Ω–∫–∞', ua: '–î—Ä—É–∫–∞—Ä—Å—å–∫–∞ –º–∞—à–∏–Ω–∫–∞', en: 'Typewriter' },
        { id: 15, ru: '–ê–ª–º–∞–∑–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è', ua: '–î—ñ–∞–º–∞–Ω—Ç–æ–≤—ñ –≤—ñ–¥–∂–∏–º–∞–Ω–Ω—è', en: 'Diamond Pushups' },
        { id: 16, ru: '–®–∏—Ä–æ–∫–∏–π —Ö–≤–∞—Ç', ua: '–®–∏—Ä–æ–∫–∏–π —Ö–≤–∞—Ç', en: 'Wide Grip' },
        { id: 17, ru: '–õ—É—á–Ω–∏–∫ (—Ç—è–≥–∏)', ua: '–õ—É—á–Ω–∏–∫ (—Ç—è–≥–∏)', en: 'Archer Pullups' },
        { id: 18, ru: '–õ—É—á–Ω–∏–∫ (–æ—Ç–∂–∏–º–∞–Ω–∏—è)', ua: '–õ—É—á–Ω–∏–∫ (–≤—ñ–¥–∂–∏–º–∞–Ω–Ω—è)', en: 'Archer Pushups' },
        { id: 19, ru: '–ì–æ—Ä–∏–∑–æ–Ω—Ç –Ω–∞ –ª–æ–∫—Ç—è—Ö', ua: '–ì–æ—Ä–∏–∑–æ–Ω—Ç –Ω–∞ –ª—ñ–∫—Ç—è—Ö', en: 'Elbow Lever' },
        { id: 20, ru: '–£–∑–∫–∏–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è', ua: '–í—É–∑—å–∫—ñ –≤—ñ–¥–∂–∏–º–∞–Ω–Ω—è', en: 'Close Pushups' },
        { id: 21, ru: '–ü–∏—Å—Ç–æ–ª–µ—Ç–∏–∫ (–ø—Ä–∏—Å–µ–¥)', ua: '–ü–∏—Å—Ç–æ–ª–µ—Ç–∏–∫ (–ø—Ä–∏—Å—ñ–¥)', en: 'Pistol Squats' },
        { id: 22, ru: '–ù–æ—Å–∫–∏ –∫ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ', ua: '–ù–æ—Å–∫–∏ –¥–æ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–∏', en: 'Toes to Bar' },
        { id: 23, ru: '–í–∏—Å –Ω–∞ –≤—Ä–µ–º—è', ua: '–í–∏—Å –Ω–∞ —á–∞—Å', en: 'Dead Hang' },
        { id: 24, ru: '–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –ª–∞–≤–∫–∏', ua: '–í—ñ–¥–∂–∏–º–∞–Ω–Ω—è –≤—ñ–¥ –ª–∞–≤–∫–∏', en: 'Bench Dips' },
        { id: 25, ru: '–ë–µ—Ä–ø–∏', ua: '–ë–µ—Ä–ø—ñ', en: 'Burpees' },
        { id: 26, ru: 'V-—Å–∫–ª–∞–¥–∫–∞', ua: 'V-—Å–∫–ª–∞–¥–∫–∞', en: 'V-Ups' },
        { id: 27, ru: '–ü–ª–∞–Ω–∫–∞', ua: '–ü–ª–∞–Ω–∫–∞', en: 'Plank' },
        { id: 28, ru: '–û–±—Ä–∞—Ç–Ω—ã–π —Ö–≤–∞—Ç', ua: '–ó–≤–æ—Ä–æ—Ç–Ω–∏–π —Ö–≤–∞—Ç', en: 'Chin-ups' },
        { id: 29, ru: '–ì–∞–Ω–Ω–∏–±–∞–ª (–æ—Ç–∂–∏–º–∞–Ω–∏—è)', ua: '–ì–∞–Ω–Ω—ñ–±–∞–ª (–≤—ñ–¥–∂–∏–º–∞–Ω–Ω—è)', en: 'Hannibal Pushups' },
        { id: 30, ru: '–ü–ª–∏–æ-–æ—Ç–∂–∏–º–∞–Ω–∏—è', ua: '–ü–ª—ñ–æ-–≤—ñ–¥–∂–∏–º–∞–Ω–Ω—è', en: 'Plyo Pushups' },
        { id: 31, ru: '–ì–ª—É–±–æ–∫–∏–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è', ua: '–ì–ª–∏–±–æ–∫—ñ –≤—ñ–¥–∂–∏–º–∞–Ω–Ω—è', en: 'Deep Pushups' },
        { id: 32, ru: '–ó–∞ –≥–æ–ª–æ–≤—É', ua: '–ó–∞ –≥–æ–ª–æ–≤—É', en: 'Behind Neck' },
        { id: 33, ru: '–ö–æ—Ä–µ–π—Å–∫–∏–µ –±—Ä—É—Å—å—è', ua: '–ö–æ—Ä–µ–π—Å—å–∫—ñ –±—Ä—É—Å–∏', en: 'Korean Dips' },
        { id: 34, ru: '–ü—Ä—ã–∂–∫–∏ –Ω–∞ –±–æ–∫—Å', ua: '–°—Ç—Ä–∏–±–∫–∏ –Ω–∞ –±–æ–∫—Å', en: 'Box Jumps' },
        { id: 35, ru: '–í—ã–ø–∞–¥—ã –≤ –ø—Ä—ã–∂–∫–µ', ua: '–í–∏–ø–∞–¥–∏ –≤ —Å—Ç—Ä–∏–±–∫—É', en: 'Jump Lunges' },
        { id: 36, ru: '–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∏–µ —Å–≥–∏–±–∞–Ω–∏—è', ua: '–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å—å–∫—ñ –∑–≥–∏–Ω–∞–Ω–Ω—è', en: 'Nordic Curls' },
        { id: 37, ru: '–° –≤–µ—Å–æ–º (—Ç—è–≥–∏)', ua: '–ó –≤–∞–≥–æ—é (—Ç—è–≥–∏)', en: 'Weighted Pulls' },
        { id: 38, ru: '–° –≤–µ—Å–æ–º (–±—Ä—É—Å—å—è)', ua: '–ó –≤–∞–≥–æ—é (–±—Ä—É—Å–∏)', en: 'Weighted Dips' },
        { id: 39, ru: '–ù–∞ –ø–∞–ª—å—Ü–∞—Ö', ua: '–ù–∞ –ø–∞–ª—å—Ü—è—Ö', en: 'Finger Pushups' },
        { id: 40, ru: '–ù–∞ –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ', ua: '–ù–∞ —Ä—É—à–Ω–∏–∫—É', en: 'Towel Pullups' },
        { id: 41, ru: '–ú–∞—è—Ç–Ω–∏–∫ (–ø—Ä–µ—Å—Å)', ua: '–ú–∞—è—Ç–Ω–∏–∫ (–ø—Ä–µ—Å)', en: 'Pendulums' },
        { id: 42, ru: '–í–µ–ª–æ—Å–∏–ø–µ–¥', ua: '–í–µ–ª–æ—Å–∏–ø–µ–¥', en: 'Bicycle' },
        { id: 43, ru: '–ü—Å–µ–≤–¥–æ-–ø–ª–∞–Ω—à', ua: '–ü—Å–µ–≤–¥–æ-–ø–ª–∞–Ω—à', en: 'Pseudo Planche' },
        { id: 44, ru: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–≤–∞—Ç', ua: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π —Ö–≤–∞—Ç', en: 'Neutral Grip' },
        { id: 45, ru: '–û—Ç —Å—Ç–µ–Ω—ã', ua: '–í—ñ–¥ —Å—Ç—ñ–Ω–∏', en: 'Wall Pushups' },
        { id: 46, ru: '–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥—ã', ua: '–ü–æ–≤—ñ–ª—å–Ω—ñ –≤–∏—Ö–æ–¥–∏', en: 'Slow Muscle Ups' },
        { id: 47, ru: '–í–∏—Å –Ω–∞ –æ–¥–Ω–æ–π', ua: '–í–∏—Å –Ω–∞ –æ–¥–Ω—ñ–π', en: 'One Arm Hang' },
        { id: 48, ru: '–ö–æ–º–º–∞–Ω–¥–æ', ua: '–ö–æ–º–º–∞–Ω–¥–æ', en: 'Commando' },
        { id: 49, ru: '–°—É–ø–µ—Ä–º–µ–Ω', ua: '–°—É–ø–µ—Ä–º–µ–Ω', en: 'Superman' },
        { id: 50, ru: '–ù–∞ –∑–∞–ø—è—Å—Ç—å—è—Ö', ua: '–ù–∞ –∑–∞–ø‚Äô—è—Å—Ç—è—Ö', en: 'Wrist Pushups' },
        { id: 51, ru: '360 –ö—Ä—É–≥', ua: '360 –ö–æ–ª–æ', en: '360 Pulls' },
        { id: 52, ru: '–í–∏—Å –ì–∞–Ω–Ω–∏–±–∞–ª–∞', ua: '–í–∏—Å –ì–∞–Ω–Ω—ñ–±–∞–ª–∞', en: 'Hannibal Hold' },
        { id: 53, ru: '–ù–µ–≥–∞—Ç–∏–≤—ã (–æ–¥–Ω–∞ —Ä—É–∫–∞)', ua: '–ù–µ–≥–∞—Ç–∏–≤–∏ (–æ–¥–Ω–∞ —Ä—É–∫–∞)', en: 'OAP Negatives' },
        { id: 54, ru: '–ñ–µ–ª–µ–∑–Ω—ã–π –∫—Ä–µ—Å—Ç', ua: '–ó–∞–ª—ñ–∑–Ω–∏–π —Ö—Ä–µ—Å—Ç', en: 'Iron Cross' },
        { id: 55, ru: '–ì–æ—Ä–∏–∑–æ–Ω—Ç –Ω–æ–≥–∏ –≤—Ä–æ–∑—å', ua: '–ì–æ—Ä–∏–∑–æ–Ω—Ç –Ω–æ–≥–∏ –Ω–∞—Ä—ñ–∑–Ω–æ', en: 'Straddle Planche' }
    ];

    const ui = {
        ru: { max: "–í–∞—à —Ç–µ–∫—É—â–∏–π –º–∞–∫—Å–∏–º—É–º", goal: "–í–∞—à–∞ —Ü–µ–ª—å", btn: "–°–û–ó–î–ê–¢–¨ –ü–†–û–ì–†–ê–ú–ú–£", rest: "–û–¢–î–´–•", set: "–ü–û–î–•–û–î", pause: "–û–¢–î–´–• –ú–ï–ñ–î–£ –ü–û–î–•–û–î–ê–ú–ò", rep: "—Ä–∞–∑", sec: "—Å–µ–∫" },
        ua: { max: "–í–∞—à –ø–æ—Ç–æ—á–Ω–∏–π –º–∞–∫—Å–∏–º—É–º", goal: "–í–∞—à–∞ —Ü—ñ–ª—å", btn: "–°–¢–í–û–†–ò–¢–ò –ü–†–û–ì–†–ê–ú–£", rest: "–í–Ü–î–ü–û–ß–ò–ù–û–ö", set: "–ü–Ü–î–•–Ü–î", pause: "–í–Ü–î–ü–û–ß–ò–ù–û–ö –ú–Ü–ñ –ü–Ü–î–•–û–î–ê–ú–ò", rep: "—Ä–∞–∑—ñ–≤", sec: "—Å–µ–∫" },
        en: { max: "Your current max", goal: "Your target goal", btn: "CREATE PROGRAM", rest: "REST", set: "SET", pause: "REST BETWEEN SETS", rep: "reps", sec: "sec" }
    };

    function setLang(l) {
        lang = l;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + l).classList.add('active');
        document.getElementById('gen-btn-text').innerText = ui[lang].btn;
        renderGrid();
    }

    function renderGrid() {
        const g = document.getElementById('grid');
        g.innerHTML = '';
        db.forEach(ex => {
            const d = document.createElement('div');
            d.className = 'ex-card';
            d.innerHTML = `<h3>${ex[lang]}</h3>`;
            d.onclick = () => openOverlay(ex);
            g.appendChild(d);
        });
    }

    function openOverlay(ex) {
        selectedEx = ex;
        document.getElementById('overlay').style.display = 'flex';
        document.body.style.overflow = 'hidden';
        document.getElementById('overlay-title').innerText = ex[lang];
        document.getElementById('results').innerHTML = '';

        // –ü–†–ò–ë–†–ê–ù–û –î–ï–§–û–õ–¢–ù–Ü –ó–ù–ê–ß–ï–ù–ù–Ø (–ü–û–†–û–ñ–ù–Ü –ü–û–õ–Ø)
        document.getElementById('inputs-dynamic').innerHTML = `
            <div class="input-wrap">
                <label>${ui[lang].max}</label>
                <input type="number" id="user-max" placeholder="?">
            </div>
        `;
        document.getElementById('goal-dynamic').innerHTML = `
            <div class="input-wrap">
                <label>${ui[lang].goal}</label>
                <input type="number" id="user-goal" placeholder="?">
            </div>
        `;
    }

    function closeOverlay() {
        document.getElementById('overlay').style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    function generateAction() {
        const maxInput = document.getElementById('user-max');
        const goalInput = document.getElementById('user-goal');
        const res = document.getElementById('results');

        const m = parseInt(maxInput.value);
        if (isNaN(m) || m <= 0) {
            maxInput.style.borderColor = "var(--neon)";
            return;
        }

        res.innerHTML = '';
        
        // –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó –Ω–∞ 30 –¥–Ω—ñ–≤
        for (let day = 1; day <= 30; day++) {
            const box = document.createElement('div');
            box.className = 'day-box';
            
            if (day % 3 === 0) {
                box.classList.add('rest');
                box.innerHTML = `
                    <span class="day-num">DAY ${day}</span>
                    <h4 style="text-transform:uppercase; letter-spacing:2px;">${ui[lang].rest}</h4>
                    <p style="color:#555; margin-top:10px; font-size:0.8rem;">–ú—ã—à—Ü—ã —Ä–∞—Å—Ç—É—Ç, –∫–æ–≥–¥–∞ —Ç—ã —Å–ø–∏—à—å. –°–µ–≥–æ–¥–Ω—è –±–µ–∑ –Ω–∞–≥—Ä—É–∑–æ–∫.</p>
                `;
            } else {
                box.classList.add('work');
                box.innerHTML = `<span class="day-num">DAY ${day}</span>`;
                
                // –ü—Ä–æ–≥—Ä–µ—Å—ñ—è +2% —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –∫–æ–∂–Ω–µ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
                let difficulty = 1 + (day * 0.02);
                let currentTotal = Math.round(m * difficulty);
                let repsPerSet = Math.max(1, Math.round(currentTotal * 0.75));

                // 4 –¥–µ—Ç–∞–ª—å–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏
                for (let s = 1; s <= 4; s++) {
                    const item = document.createElement('div');
                    item.className = 'set-item';
                    item.innerHTML = `<b>${ui[lang].set} ${s}</b><span>${repsPerSet} ${ui[lang].rep}</span>`;
                    box.appendChild(item);

                    if (s < 4) {
                        const p = document.createElement('div');
                        p.className = 'pause-info';
                        p.innerText = `‚è≥ ${ui[lang].pause}: 90 ${ui[lang].sec}`;
                        box.appendChild(p);
                    }
                }
            }
            res.appendChild(box);
        }
        
        // –ü–ª–∞–≤–Ω–∏–π —Å–∫—Ä–æ–ª –¥–æ –ø–ª–∞–Ω—É
        setTimeout(() => {
            res.scrollIntoView({ behavior: 'smooth' });
        }, 100);
    }

    // –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫
    setLang('ru');
</script>

</body>
</html>
