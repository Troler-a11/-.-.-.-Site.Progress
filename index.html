<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN AI | ARCHITECT OF STRENGTH</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon: #ff6b00;
            --neon-glow: rgba(255, 107, 0, 0.4);
            --bg: #030303;
            --card-bg: #0a0a0a;
            --border: rgba(255, 255, 255, 0.08);
            --text-main: #ffffff;
            --text-dim: #606060;
            --gold: #ffcc00;
            --error: #ff3333;
            --transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        
        body {
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            line-height: 1.6;
        }

        /* Animated Background Elements */
        .bg-glow {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 15% 15%, rgba(255, 107, 0, 0.05) 0%, transparent 45%),
                radial-gradient(circle at 85% 85%, rgba(255, 107, 0, 0.05) 0%, transparent 45%);
            z-index: -1;
        }

        /* Header UI */
        header {
            padding: 120px 20px 60px;
            text-align: center;
            position: relative;
        }

        .logo-wrap {
            display: inline-block;
            position: relative;
        }

        .logo-main {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2.5rem, 12vw, 5.5rem);
            font-weight: 900;
            letter-spacing: 15px;
            text-transform: uppercase;
            background: linear-gradient(180deg, #fff 20%, #444 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 15px var(--neon-glow));
        }

        .logo-sub {
            font-size: 0.75rem;
            color: var(--neon);
            letter-spacing: 10px;
            text-transform: uppercase;
            font-weight: 700;
            margin-top: 20px;
            opacity: 0.8;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Exercise Grid System */
        .ex-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .ex-item {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 35px;
            padding: 60px 25px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .ex-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent, rgba(255, 107, 0, 0.1));
            opacity: 0;
            transition: 0.3s;
        }

        .ex-item:hover {
            transform: translateY(-15px) scale(1.03);
            border-color: var(--neon);
            box-shadow: 0 40px 80px rgba(0,0,0,0.8), 0 0 20px rgba(255,107,0,0.2);
        }

        .ex-item:hover::before { opacity: 1; }

        .ex-item h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            position: relative;
            z-index: 2;
        }

        /* Fullscreen Plan Interface */
        .modal {
            position: fixed;
            inset: 0;
            background: var(--bg);
            z-index: 9999;
            display: none;
            flex-direction: column;
            overflow-y: auto;
            padding-bottom: 120px;
        }

        .modal-nav {
            padding: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(3,3,3,0.9);
            backdrop-filter: blur(25px);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .btn-close {
            background: rgba(255,255,255,0.05);
            border: none;
            color: var(--neon);
            width: 50px; height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: 0.3s;
        }

        .btn-close:hover { background: var(--neon); color: #000; transform: rotate(90deg); }

        .config-zone {
            max-width: 600px;
            margin: 60px auto;
            padding: 0 25px;
            width: 100%;
        }

        .input-box { margin-bottom: 40px; }
        .input-box label {
            display: block;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--text-dim);
            margin-bottom: 15px;
        }

        input {
            width: 100%;
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            padding: 28px;
            border-radius: 25px;
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            text-align: center;
            transition: 0.3s;
        }

        input:focus {
            border-color: var(--neon);
            background: #120b00;
            box-shadow: 0 0 30px rgba(255,107,0,0.1);
        }

        .btn-prime {
            width: 100%;
            background: var(--neon);
            color: #000;
            border: none;
            padding: 30px;
            border-radius: 25px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            font-size: 1.2rem;
            letter-spacing: 5px;
            cursor: pointer;
            box-shadow: 0 20px 50px var(--neon-glow);
            transition: var(--transition);
        }

        .btn-prime:hover { transform: translateY(-5px); filter: brightness(1.2); }

        /* Training Day Cards */
        .day-card {
            background: #070707;
            border: 1px solid var(--border);
            border-radius: 45px;
            padding: 45px;
            margin-bottom: 40px;
            position: relative;
            transition: 0.4s;
        }

        .day-card.work-day { border-left: 12px solid var(--neon); }
        .day-card.rest-day { border-left: 12px solid #222; opacity: 0.5; }

        .day-head {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 35px;
        }

        .day-info h4 { font-family: 'Orbitron', sans-serif; font-size: 2.2rem; color: var(--text-main); }
        .day-tag { color: var(--gold); font-size: 0.8rem; letter-spacing: 4px; text-transform: uppercase; margin-top: 5px; }

        .exercise-block {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.04);
            border-radius: 28px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .ex-label { color: var(--neon); font-size: 0.75rem; font-weight: 900; text-transform: uppercase; margin-bottom: 10px; display: block; }
        .ex-val { font-size: 1.4rem; font-weight: 800; }
        .ex-note { font-size: 0.9rem; color: var(--text-dim); margin-top: 8px; font-style: italic; }

        .rest-timer {
            text-align: center;
            padding: 25px;
            color: #444;
            font-size: 0.75rem;
            letter-spacing: 6px;
            text-transform: uppercase;
        }

        /* Lang Switcher Dock */
        .lang-dock {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            background: rgba(10,10,10,0.85);
            backdrop-filter: blur(20px);
            padding: 10px;
            border-radius: 100px;
            border: 1px solid var(--border);
            z-index: 10000;
        }

        .lang-link {
            padding: 14px 30px;
            border-radius: 100px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 900;
            color: #444;
            transition: 0.3s;
        }

        .lang-link.active { background: var(--neon); color: #000; }

        @media (max-width: 768px) {
            header { padding: 80px 15px; }
            .day-card { padding: 25px; border-radius: 35px; }
            .day-info h4 { font-size: 1.6rem; }
        }
    </style>
</head>
<body>
    <div class="bg-glow"></div>
    <header>
        <div class="logo-wrap">
            <h1 class="logo-main" id="ui-logo">ЧЕРЕЗ СИЛУ</h1>
            <div class="logo-sub">TITAN AI SYSTEM</div>
        </div>
    </header>

    <div class="container">
        <div class="ex-grid" id="main-grid">
            </div>
    </div>

    <div class="modal" id="setup-modal">
        <div class="modal-nav">
            <h2 id="modal-title" style="font-family:'Orbitron'; font-size: 1rem; letter-spacing: 2px;">TRAINING</h2>
            <button class="btn-close" onclick="closeModal()">✕</button>
        </div>
        
        <div class="config-zone">
            <div class="input-box">
                <label id="lbl-max">ТВОЙ ТЕКУЩИЙ МАКСИМУМ</label>
                <input type="number" id="user-input-max" placeholder="0">
            </div>
            
            <button class="btn-prime" onclick="initMegaGenerator()" id="btn-generate">
                СОЗДАТЬ ПРОГРАММУ
            </button>
            
            <div id="plan-container" style="margin-top: 60px;">
                </div>
        </div>
    </div>

    <div class="lang-dock">
        <div class="lang-link active" onclick="changeLang('ru')" id="l-ru">RU</div>
        <div class="lang-link" onclick="changeLang('ua')" id="l-ua">UA</div>
        <div class="lang-link" onclick="changeLang('en')" id="l-en">EN</div>
    </div>

    <script>
        let currentLanguage = 'ru';
        let selectedExercise = null;

        // БАЗА ДАНИХ: 55 ВПРАВ (Повний перелік)
        const exerciseDB = [
            { id: 1, type: 'pull', ru: 'Подтягивания', ua: 'Підтягування', en: 'Pull-ups' },
            { id: 2, type: 'push', ru: 'Отжимания от пола', ua: 'Віджимання від підлоги', en: 'Push-ups' },
            { id: 3, type: 'push', ru: 'Брусья', ua: 'Бруси', en: 'Dips' },
            { id: 4, type: 'power', ru: 'Выход силой', ua: 'Вихід силою', en: 'Muscle Up' },
            { id: 5, type: 'hold', ru: 'Передний вис', ua: 'Передній віс', en: 'Front Lever' },
            { id: 6, type: 'hold', ru: 'Горизонт (Планш)', ua: 'Горизонт (Планш)', en: 'Planche' },
            { id: 7, type: 'push', ru: 'Отжимания в стойке', ua: 'Віджимання в стійці', en: 'HSPU' },
            { id: 8, type: 'pull', ru: 'Подтягивания на одной', ua: 'Підтягування на одній', en: 'One Arm Pull-up' },
            { id: 9, type: 'core', ru: 'Уголок (L-Sit)', ua: 'Кутик (L-Sit)', en: 'L-Sit' },
            { id: 10, type: 'core', ru: 'Флаг дракона', ua: 'Прапор дракона', en: 'Dragon Flag' },
            { id: 11, type: 'push', ru: 'Алмазные отжимания', ua: 'Діамантові віджимання', en: 'Diamond Pushups' },
            { id: 12, type: 'pull', ru: 'Широкие подтягивания', ua: 'Широкі підтягування', en: 'Wide Pullups' },
            { id: 13, type: 'pull', ru: 'Лучник (тяги)', ua: 'Лучник (тяги)', en: 'Archer Pullups' },
            { id: 14, type: 'push', ru: 'Лучник (отжимы)', ua: 'Лучник (віджими)', en: 'Archer Pushups' },
            { id: 15, type: 'legs', ru: 'Пистолетик (присед)', ua: 'Пістолетик (присід)', en: 'Pistol Squats' },
            { id: 16, type: 'core', ru: 'Носки к перекладине', ua: 'Носки до перекладини', en: 'Toes to Bar' },
            { id: 17, type: 'pull', ru: 'Взрывные подтягивания', ua: 'Вибухові підтягування', en: 'Explosive Pullups' },
            { id: 18, type: 'push', ru: 'Псевдо-планш отжимания', ua: 'Псевдо-планш віджимання', en: 'Pseudo Planche' },
            { id: 19, type: 'hold', ru: 'Человеческий флаг', ua: 'Людський прапор', en: 'Human Flag' },
            { id: 20, type: 'pull', ru: 'Печатная машинка', ua: 'Друкарська машинка', en: 'Typewriter' },
            { id: 21, type: 'push', ru: 'Отжимания на пальцах', ua: 'Віджимання на пальцях', en: 'Finger Pushups' },
            { id: 22, type: 'hold', ru: 'Горизонт на локтях', ua: 'Горизонт на ліктях', en: 'Elbow Lever' },
            { id: 23, type: 'pull', ru: 'Подтягивания за голову', ua: 'Підтягування за голову', en: 'Behind Neck Pulls' },
            { id: 24, type: 'push', ru: 'Корейские брусья', ua: 'Корейські бруси', en: 'Korean Dips' },
            { id: 25, type: 'core', ru: 'V-складка на пресс', ua: 'V-складка на прес', en: 'V-Ups' },
            { id: 26, type: 'legs', ru: 'Выпады в прыжке', ua: 'Випади в стрибку', en: 'Jumping Lunges' },
            { id: 27, type: 'pull', ru: 'Подтягивания обратным хватом', ua: 'Підтягування зворотним', en: 'Chin-ups' },
            { id: 28, type: 'push', ru: 'Глубокие отжимания', ua: 'Глибокі віджимання', en: 'Deep Pushups' },
            { id: 29, type: 'hold', ru: 'Вис на время', ua: 'Вис на час', en: 'Dead Hang' },
            { id: 30, type: 'legs', ru: 'Скандинавские сгибания', ua: 'Скандинавські згинання', en: 'Nordic Curls' },
            { id: 31, type: 'pull', ru: 'Подтягивания Коммандо', ua: 'Підтягування Командо', en: 'Commando' },
            { id: 32, type: 'push', ru: 'Отжимания Супермена', ua: 'Віджимання Супермена', en: 'Superman Pushups' },
            { id: 33, type: 'power', ru: 'Медленные выходы', ua: 'Повільні виходи', en: 'Slow Muscle Ups' },
            { id: 34, type: 'pull', ru: 'На одной (негатив)', ua: 'На одній (негатив)', en: 'OAP Negatives' },
            { id: 35, type: 'push', ru: 'Взрывные отжимания (плио)', ua: 'Вибухові віджимання', en: 'Plyo Pushups' },
            { id: 36, type: 'core', ru: 'Маятник (пресс)', ua: 'Маятник (прес)', en: 'Pendulum' },
            { id: 37, type: 'legs', ru: 'Прыжки на бокс', ua: 'Стрибки на бокс', en: 'Box Jumps' },
            { id: 38, type: 'push', ru: 'Отжимания Ганнибала', ua: 'Віджимання Ганнібала', en: 'Hannibal Pushups' },
            { id: 39, type: 'pull', ru: 'Подтягивания 360', ua: 'Підтягування 360', en: '360 Pullups' },
            { id: 40, type: 'pull', ru: 'На полотенце (хват)', ua: 'На рушнику (хват)', en: 'Towel Pullups' },
            { id: 41, type: 'push', ru: 'На запястьях', ua: 'На зап’ястях', en: 'Wrist Pushups' },
            { id: 42, type: 'hold', ru: 'Вис Ганнибала', ua: 'Вис Ганнібала', en: 'Hannibal Hold' },
            { id: 43, type: 'pull', ru: 'Нейтральный хват', ua: 'Нейтральний хват', en: 'Neutral Pullups' },
            { id: 44, type: 'push', ru: 'Отжимания от стены', ua: 'Віджимання від стіни', en: 'Wall Pushups' },
            { id: 45, type: 'core', ru: 'Велосипед (пресс)', ua: 'Велосипед (прес)', en: 'Bicycle' },
            { id: 46, type: 'legs', ru: 'Болгарские сплит-приседы', ua: 'Болгарські присіди', en: 'Bulgarian Splits' },
            { id: 47, type: 'pull', ru: 'Австралийские тяги', ua: 'Австралійські тяги', en: 'Inverted Rows' },
            { id: 48, type: 'push', ru: 'Брусья (глубокие)', ua: 'Бруси (глибокі)', en: 'Deep Dips' },
            { id: 49, type: 'core', ru: 'Планка', ua: 'Планка', en: 'Plank' },
            { id: 50, type: 'hold', ru: 'Вис на одной руке', ua: 'Вис на одній руці', en: 'One Arm Hang' },
            { id: 51, type: 'power', ru: 'Выход на одну', ua: 'Вихід на одну', en: 'One Arm Muscle Up' },
            { id: 52, type: 'hold', ru: 'Железный крест (пол)', ua: 'Залізний хрест (підлога)', en: 'Iron Cross Floor' },
            { id: 53, type: 'push', ru: 'Отжимания 360', ua: 'Віджимання 360', en: '360 Pushups' },
            { id: 54, type: 'legs', ru: 'Казачьи приседания', ua: 'Козацькі присідання', en: 'Cossack Squats' },
            { id: 55, type: 'hold', ru: 'Горизонт ноги врозь', ua: 'Горизонт ноги нарізно', en: 'Straddle Planche' }
        ];

        const translations = {
            ru: { max: "ТВОЙ ТЕКУЩИЙ МАКСИМУМ", gen: "СОЗДАТЬ ПРОГРАММУ", rest: "ОТДЫХ", set: "ПОДХОД", tip: "СОВЕТ ТИТАНА" },
            ua: { max: "ТВІЙ ПОТОЧНИЙ МАКСИМУМ", gen: "СТВОРИТИ ПРОГРАМУ", rest: "ВІДПОЧИНОК", set: "ПІДХІД", tip: "ПОРАДА ТИТАНА" },
            en: { max: "YOUR CURRENT MAX", gen: "CREATE PROGRAM", rest: "REST DAY", set: "SET", tip: "TITAN ADVICE" }
        };

        function changeLang(l) {
            currentLanguage = l;
            document.querySelectorAll('.lang-link').forEach(link => link.classList.remove('active'));
            document.getElementById('l-' + l).classList.add('active');
            
            // Оновлення UI текстів
            document.getElementById('lbl-max').innerText = translations[l].max;
            document.getElementById('btn-generate').innerText = translations[l].gen;
            
            renderExerciseGrid();
        }

        function renderExerciseGrid() {
            const grid = document.getElementById('main-grid');
            grid.innerHTML = '';
            exerciseDB.forEach(ex => {
                const div = document.createElement('div');
                div.className = 'ex-item';
                div.innerHTML = `<h3>${ex[currentLanguage]}</h3>`;
                div.onclick = () => openModal(ex);
                grid.appendChild(div);
            });
        }

        function openModal(ex) {
            selectedExercise = ex;
            const modal = document.getElementById('setup-modal');
            modal.style.display = 'flex';
            document.getElementById('modal-title').innerText = ex[currentLanguage].toUpperCase();
            document.getElementById('plan-container').innerHTML = '';
            document.getElementById('user-input-max').value = '';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('setup-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Початковий рендер
        renderExerciseGrid();
    </script>
            // --- MASTER AI GENERATOR ---
        function initMegaGenerator() {
            const max = parseInt(document.getElementById('user-input-max').value);
            const resContainer = document.getElementById('plan-container');
            
            if (isNaN(max) || max < 0) {
                document.getElementById('user-input-max').style.borderColor = 'var(--error)';
                return;
            }
            
            resContainer.innerHTML = '';
            const t = translations[currentLanguage];

            // ГЕНЕРАЦІЯ 30 ДНІВ
            for (let day = 1; day <= 30; day++) {
                const dayBox = document.createElement('div');
                dayBox.className = 'day-card';
                
                // ЛОГІКА ВІДПОЧИНКУ (кожен 4-й день і спец. дні)
                if (day % 4 === 0 || day === 15 || day === 29) {
                    dayBox.classList.add('rest-day');
                    dayBox.innerHTML = `
                        <div class="day-head">
                            <div class="day-info">
                                <h4>DAY ${day}</h4>
                                <div class="day-tag">${t.rest}</div>
                            </div>
                        </div>
                        <p style="color: #555; font-size: 0.9rem;">
                            ${currentLanguage === 'ua' ? 'Час відновлення. М’язи будуються зараз. Спи 8+ годин.' : 'Время восстановления. Мышцы строятся сейчас. Спи 8+ часов.'}
                        </p>
                    `;
                } else {
                    dayBox.classList.add('work-day');
                    const intensity = getIntensityType(day);
                    dayBox.innerHTML = `
                        <div class="day-head">
                            <div class="day-info">
                                <h4>DAY ${day}</h4>
                                <div class="day-tag">${intensity.name}</div>
                            </div>
                        </div>
                    `;
                    
                    // Генерація тренування на основі максимуму та дня
                    const workout = buildWorkoutLogic(max, day, intensity.type);
                    
                    workout.forEach((step, idx) => {
                        const stepDiv = document.createElement('div');
                        stepDiv.className = 'exercise-block';
                        stepDiv.innerHTML = `
                            <span class="ex-label">${t.set} ${idx + 1}</span>
                            <div class="ex-val">${step.title}</div>
                            <div class="ex-note">${step.desc}</div>
                        `;
                        dayBox.appendChild(stepDiv);
                        
                        if (idx < workout.length - 1) {
                            const p = document.createElement('div');
                            p.className = 'rest-timer';
                            p.innerText = `⏳ ${t.rest}: ${step.rest}s`;
                            dayBox.appendChild(p);
                        }
                    });

                    // Додаємо пораду дня
                    const tip = document.createElement('div');
                    tip.style = "margin-top: 20px; padding-top: 20px; border-top: 1px solid #111; color: var(--gold); font-size: 0.75rem; letter-spacing: 1px;";
                    tip.innerHTML = `<b>${t.tip}:</b> ${getSmartTip(day)}`;
                    dayBox.appendChild(tip);
                }
                resContainer.appendChild(dayBox);
            }
            
            // Плавний скрол до початку плану
            setTimeout(() => {
                dayBox.parentElement.firstChild.scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function getIntensityType(day) {
            const types = {
                ru: [
                    { name: "СИЛОВАЯ ПИРАМИДА", type: "pyramid" },
                    { name: "ОБЪЕМНЫЙ ПАМПИНГ", type: "volume" },
                    { name: "ВЗРЫВНАЯ МОЩЬ", type: "explosive" },
                    { name: "СТАТИЧЕСКАЯ ВЫНОСЛИВОСТЬ", type: "static" }
                ],
                ua: [
                    { name: "СИЛОВА ПІРАМІДА", type: "pyramid" },
                    { name: "ОБ’ЄМНИЙ ПАМПІНГ", type: "volume" },
                    { name: "ВИБУХОВА ПОТУЖНІСТЬ", type: "explosive" },
                    { name: "СТАТИЧНА ВИТРИВАЛІСТЬ", type: "static" }
                ]
            };
            const list = types[currentLanguage] || types['ru'];
            return list[day % list.length];
        }

        function buildWorkoutLogic(max, day, type) {
            let sets = [];
            const prog = 1 + (day * 0.04); // +4% складності щодня

            // CASE 0: ЯКЩО ЛЮДИНА НЕ ВМІЄ (MAX 0)
            if (max === 0) {
                sets.push({ title: "Negative Phase", desc: "5 подходов по 3 медленных опускания (5 сек)", rest: 120 });
                sets.push({ title: "Isometric Hold", desc: "Удержание подбородка над перекладиной: 3 по 10 сек", rest: 90 });
                sets.push({ title: "Scapula Pulls", desc: "Активация лопаток в висе: 4 по 10 раз", rest: 60 });
                return sets;
            }

            // CASE PRO: ЯКЩО МАЄ БАЗУ
            const currentMax = Math.ceil(max * prog);
            
            if (type === "pyramid") {
                let peak = Math.max(1, Math.round(currentMax * 0.5));
                let steps = [];
                for(let i=1; i<=peak; i++) steps.push(i);
                for(let i=peak-1; i>=1; i--) steps.push(i);
                sets.push({ title: "Pyramid Run", desc: `Ступени: ${steps.join(' - ')} повторений`, rest: 45 });
            } 
            else if (type === "volume") {
                const reps = Math.max(1, Math.round(currentMax * 0.6));
                sets.push({ title: "5 Sets for Volume", desc: `Сделай 5 подходов по ${reps} повторений`, rest: 90 });
            }
            else if (type === "explosive") {
                const reps = Math.max(1, Math.round(currentMax * 0.3));
                sets.push({ title: "Explosive Max Speed", desc: `4 подхода по ${reps} (Максимально быстро вверх)`, rest: 120 });
                sets.push({ title: "Power Hang", desc: "Максимальное напряжение мышц в висе: 30 сек", rest: 60 });
            }
            else {
                sets.push({ title: "EMOM 8 min", desc: `Каждую минуту делай по ${Math.max(1, Math.round(currentMax*0.25))} раз`, rest: 60 });
                sets.push({ title: "Final Burn", desc: "Один подход на 100% от текущего максимума", rest: 0 });
            }

            return sets;
        }

        function getSmartTip(day) {
            const tips = {
                ua: [
                    "Пий більше води, це змащує твої суглоби.",
                    "Стискай перекладину сильніше — це вмикає більше м'язів.",
                    "Дихай рівномірно: видих на зусиллі.",
                    "Сьогодні зосередься на ідеальній техніці, а не на цифрах.",
                    "Твій мозок здається раніше за м'язи. Тисни далі!",
                    "Магнезія допоможе, якщо руки ковзають."
                ],
                ru: [
                    "Пей больше воды, это смазывает твои суставы.",
                    "Сжимай перекладину сильнее — это включает больше мышц.",
                    "Дыши ровно: выдох на усилии.",
                    "Сегодня сосредоточься на идеальной технике, а не на цифрах.",
                    "Твой мозг сдается раньше мышц. Жми дальше!",
                    "Магнезия поможет, если руки скользят."
                ]
            };
            const list = tips[currentLanguage] || tips['ru'];
            return list[day % list.length];
        }

        // --- END OF SCRIPT ---
    </script>
<script>
    // Цей блок має бути в самому кінці, після всіх частин
    function initMegaGenerator() {
        const input = document.getElementById('user-input-max');
        const max = parseInt(input.value);
        const resContainer = document.getElementById('plan-container');
        
        // Перевірка на пусте поле або некоректне число
        if (isNaN(max) || max < 0) {
            input.style.border = '2px solid var(--neon)';
            input.placeholder = "Введіть число!";
            return;
        }
        
        input.style.border = '1px solid #1a1a1a';
        resContainer.innerHTML = '';
        const t = translations[currentLanguage];

        for (let day = 1; day <= 30; day++) {
            const dayBox = document.createElement('div');
            dayBox.className = 'day-card';
            
            if (day % 4 === 0 || day === 15 || day === 29) {
                dayBox.classList.add('rest-day');
                dayBox.innerHTML = `
                    <div class="day-head">
                        <div class="day-info">
                            <h4>DAY ${day}</h4>
                            <div class="day-tag">${t.rest}</div>
                        </div>
                    </div>
                    <p style="color: #555; font-size: 0.9rem;">Відпочинок — це теж частина тренування.</p>
                `;
            } else {
                dayBox.classList.add('work-day');
                const intensity = getIntensityType(day);
                dayBox.innerHTML = `
                    <div class="day-head">
                        <div class="day-info">
                            <h4>DAY ${day}</h4>
                            <div class="day-tag">${intensity.name}</div>
                        </div>
                    </div>
                `;
                
                const workout = buildWorkoutLogic(max, day, intensity.type);
                workout.forEach((step, idx) => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'exercise-block';
                    stepDiv.innerHTML = `
                        <span class="ex-label">${t.set} ${idx + 1}</span>
                        <div class="ex-val">${step.title}</div>
                        <div class="ex-note">${step.desc}</div>
                    `;
                    dayBox.appendChild(stepDiv);
                    if (idx < workout.length - 1) {
                        const p = document.createElement('div');
                        p.className = 'rest-timer';
                        p.innerText = `⏳ ${t.rest}: ${step.rest}s`;
                        dayBox.appendChild(p);
                    }
                });
            }
            resContainer.appendChild(dayBox);
        }
        resContainer.scrollIntoView({ behavior: 'smooth' });
    }
</script>                    
</body>
</html>

